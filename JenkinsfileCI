@Library('jenkins-pipeline-library')
import no.spk.jenkins.pipeline.ci.config.CIPipelineConfig

ciPipeline {
    config = CIPipelineConfig.get()
            .useMaven(jdkVersion: 17)                           // Maven-prosjekt med java 17
            .withPublish(branches: 'develop/')                  // Publiser SNAPSHOT-pakker fra feature-branches
            .withRelease(branch: 'master')                      // Publiser release-pakker fra master-branch
            .withVersionStrategy(strategy: 'semver_patch')      // Bumper versjon basert på conventionalcommits.org med fallback til patch
            .withGitTaggingStrategy(semantic: 'master')         // Versjonering baserer seg på master-branch
            .withEmailNotifications()                           // Send e-post til siste comitter ved feil
            .withSlackNotifications(channels: 'appark-ci')      // Send varsling om brekt-bygg til Slack
}
